<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Submit Event - TechEvents</title>
  <style>
    :root {
      --bg: #f7f8fa;
      --text: #333;
      --card-bg: #fff;
      --border: #ccc;
    }
    .dark-mode {
      --bg: #181a1b;
      --text: #e4e6eb;
      --card-bg: #242526;
      --border: #555;
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body { font-family: Arial, sans-serif; background: var(--bg); color: var(--text); padding:20px; transition: background 0.3s, color 0.3s; }
    .header {
      display:flex;
      justify-content: space-between;
      align-items:center;
      margin-bottom:24px;
      max-width:900px;
      margin-left:auto;
      margin-right:auto;
    }
    .mode-toggle { background:none; border:1px solid var(--border); padding:6px 12px; border-radius:4px; color:var(--text); cursor:pointer; text-decoration:none; }
    .container { max-width:900px; margin:auto; }
    form { background:var(--card-bg); padding:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    label { display:block; margin-bottom:12px; font-size:0.9em; }
    input[type="text"], input[type="url"], input[type="number"], input[type="date"], textarea { width:100%; padding:8px; border:1px solid var(--border); border-radius:4px; background:var(--card-bg); color:var(--text); }
    textarea { resize:vertical; }
    button.submit { margin-top:12px; padding:8px 16px; background:#3366ff; color:#fff; border:none; border-radius:6px; cursor:pointer; }
  </style>
</head>
<body>
  <div class="header">
    <div class="site-title"><a href="index.html" style="text-decoration:none;color:inherit;">TechEvents</a></div>
    <div>
      <a href="index.html" class="mode-toggle">Home</a>
      <button class="mode-toggle" id="toggle-mode">Dark Mode</button>
    </div>
  </div>
  <div class="container">
    <form id="event-form">
      <label>Event Name
        <input type="text" name="nome" required />
      </label>
      <label>Country
        <input type="text" name="pais" required />
      </label>
      <label>City
        <input type="text" name="cidade" required />
      </label>
      <label>
        <input type="checkbox" name="online" value="true" /> Online event
      </label>
      <label>Start Date
        <input type="date" name="data_inicio" required />
      </label>
      <label>Description
        <textarea name="summary" rows="4"></textarea>
      </label>
      <label>Link
        <input type="url" name="link" />
      </label>
      <label>Tags (space separated)
        <input type="text" name="temas" />
      </label>
      <label>Price (EUR)
        <input type="number" name="preco" step="0.01" />
      </label>
      <button class="submit" type="submit">Submit Event</button>
    </form>
  </div>
  <script>
    const body = document.body;
    const toggle = document.getElementById('toggle-mode');
    const savedMode = localStorage.getItem('mode');
    if (savedMode === 'dark') {
      body.classList.add('dark-mode');
    }
    toggle.textContent = body.classList.contains('dark-mode') ? 'Light Mode' : 'Dark Mode';
    toggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      localStorage.setItem('mode', body.classList.contains('dark-mode') ? 'dark' : 'light');
      toggle.textContent = body.classList.contains('dark-mode') ? 'Light Mode' : 'Dark Mode';
    });

    const form = document.getElementById('event-form');
    const submitUrl = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID_HERE/exec';
    form.addEventListener('submit', e => {
      e.preventDefault();
      const data = new FormData(form);
      data.append('sheet', 'Sheet2');
      fetch(submitUrl, { method: 'POST', body: data, mode: 'no-cors' })
        .then(() => { alert('Event submitted!'); form.reset(); })
        .catch(() => alert('There was an error submitting the event.'));
    });
  </script>
</body>
</html>
